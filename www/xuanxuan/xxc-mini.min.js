!function(n,y){var B,v=(new Date).getTime(),L={"zh-cn":{closeConfirm:"要退出聊天吗？",confirmBtn:"确定",cancelBtn:"取消",collapse:"收起",collapseBtn:"–",expand:"展开",expandBtn:"↑",close:"关闭",closeBtn:"&times;"},"zh-tw":{closeConfirm:"要退出聊天嗎？",confirmBtn:"確定",cancelBtn:"取消",collapse:"收起",collapseBtn:"–",expand:"展開",expandBtn:"↑",close:"關閉",closeBtn:"&times;"},en:{closeConfirm:"Are you sure to quit chat?",confirmBtn:"Confirm",cancelBtn:"Cancel",collapse:"Collapse",collapseBtn:"–",expand:"Expand",expandBtn:"↑",close:"Quit",closeBtn:"&times;"}};function w(n,i,e){if(!(e=e||document).getElementById(i)){var t=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.type="text/css",o.id=i,o.appendChild(e.createTextNode(n)),t.appendChild(o)}}n.startXuanxuan=function i(c){if("string"==typeof c&&(c={web:c}),"object"==typeof c&&null!==c){if(!B||c.singleton!==y&&!c.singleton){c.web||(c.web="./index.html"),c.lang===y&&(c.lang="zh-cn"),c.autoShow===y&&(c.autoShow=!0),c.closeConfirm===y&&(c.closeConfirm=!0),c.closeOnLogout===y&&(c.closeOnLogout=!0);var n,e,t=c.id||v++,o=c.web;o.indexOf("?")<0?o+="?_id="+t:o+="&_id="+t,c.server&&(o+="&server="+encodeURIComponent(c.server)),c.account&&(o+="&account="+encodeURIComponent(c.account)),c.token&&(o+="&token="+encodeURIComponent(c.token)),c.cgid&&(o+="&cgid="+encodeURIComponent(c.cgid)),c.lang&&(o+="&lang="+encodeURIComponent(c.lang)),"object"==typeof c.config&&null!==c.config&&(o+="&config="+encodeURIComponent(JSON.stringify(c.config))),c.noStyle||(n=t,e=c,document.getElementById("xxc-mini-style-"+n)||("number"==typeof e.width&&(e.width+="px"),"number"==typeof e.height&&(e.height+="px"),w(["#xxc-mini-"+n+" {background: #fff; transition: all .4s; position: fixed; bottom: 0; right: 0; transform: translateY(100%); box-shadow: 0px 3px 5px -3px rgba(0, 0, 0, 0.2), 0px 4px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 7px 2px rgba(0, 0, 0, 0.12); width: "+(e.width||"600px")+"; height: "+(e.height||"500px")+";}","#xxc-mini-iframe-"+n+" {width: 100%; height: 100%; left: 0px; top: 0;}","#xxc-mini-"+n+' .xxc-mini-toolbar-btn {position: absolute; top: 10px; right: 42px; min-width: 30px; height: 30px; line-height: 27px; font-size: 24px; text-decoration: none; z-index: 1; border-radius: 4px; text-align: center; cursor: pointer; color: #666; padding: 0 4px; font-family: Monaco,Menlo,Consolas,"Courier New",monospace}',"#xxc-mini-"+n+" .xxc-mini-toolbar-btn:hover, #xxc-mini-"+n+" .xxc-mini-toolbar-btn:focus {background: #e5e5e5}","#xxc-mini-minz-btn-"+n+" {right: 40px!important;}","#xxc-mini-close-btn-"+n+" {right: 5px!important;}","#xxc-mini-heading-"+n+" {position: absolute; left: 0; top: 0; height: 50px; right: 70px; display: none; z-index: 1; cursor: pointer;}","#xxc-mini-"+n+".xxc-mini-minimize #xxc-mini-heading-"+n+" {display: block;}","#xxc-mini-"+n+".xxc-mini-ready {transform: translateY(0%);}","#xxc-mini-"+n+".xxc-mini-minimize {transform: translateY(100%); bottom: 49px;}","#xxc-mini-"+n+".xxc-mini-hidden {transform: translateY(100%); opacity: 0;}","#xxc-mini-"+n+" .xxc-mini-close-confirm-dialog {position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; background: rgba(0,0,0,.5); visibility: hidden; opacity: 0; transition: visibility .2s, opacity .2s}","#xxc-mini-"+n+".xxc-mini-show-confirm .xxc-mini-close-confirm-dialog {visibility: visible; opacity: 1;}","#xxc-mini-"+n+" .xxc-mini-close-confirm-content {width: 80%; background: #fff; margin: 0 auto; padding: 15px; position: relative; top: 50%; margin-top: -100px; min-height: 100px; max-width: 400px; box-shadow: 0px 3px 5px -3px rgba(0, 0, 0, 0.2), 0px 4px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 7px 2px rgba(0, 0, 0, 0.12);}","#xxc-mini-"+n+" .xxc-mini-close-confirm-content > p {font-size: 15px; margin-bottom: 10px}","#xxc-mini-"+n+" .xxc-mini-dialog-btn {font-size: 14px; display: inline-block; padding: 8px 15px; cursor: pointer; text-decoration: none; background: #f1f1f1; margin-right: 10px;}","#xxc-mini-"+n+" .xxc-mini-dialog-btn:hover {background: #e5e5e5;}","#xxc-mini-close-confirm-btn-"+n+".xxc-mini-dialog-btn {background: #3f51b5; color: #fff;}","#xxc-mini-close-confirm-btn-"+n+".xxc-mini-dialog-btn:hover {background: #304ffe;}"].join(""),"xxc-mini-style-"+n)));var x=L[c.lang]||L["zh-cn"],a=function(n,i){return i===y?x[n]:i},m=document.createElement("div");m.classList.add("xxc-mini-dialog"),c.className&&m.classList.add(c.className),c.autoShow||m.classList.add("xxc-mini-hidden"),m.id="xxc-mini-"+t,m.innerHTML=['<div class="xxc-mini-close-confirm-dialog"><div class="xxc-mini-close-confirm-content"><p>'+a("closeConfirm",c.closeConfirmText)+'</p><a id="xxc-mini-close-confirm-btn-'+t+'" class="xxc-mini-close-confirm-btn xxc-mini-dialog-btn">'+a("confirmBtn",c.confirmBtnText)+'</a><a id="xxc-mini-close-cancel-btn-'+t+'" class="xxc-mini-close-cancel-btn xxc-mini-dialog-btn">'+a("cancelBtn",c.cancelBtnText)+"</a></div></div>",'<a title="'+a("collapse",c.collapseText)+'" id="xxc-mini-minz-btn-'+t+'" class="xxc-mini-toolbar-btn">'+a("collapseBtn",c.collapseBtnHtml)+"</a>",'<a title="'+a("close",c.closeText)+'" id="xxc-mini-close-btn-'+t+'" class="xxc-mini-toolbar-btn">'+a("closeBtn",c.closeBtnHtml)+"</a>",'<div class="xxc-mini-heading" id="xxc-mini-heading-'+t+'"></div>','<iframe id="xxc-mini-iframe-'+t+'" name="xxc-mini-iframe-'+t+'" src="'+o+'" frameborder="no" allowtransparency="true" scrolling="auto" hidefocus="" />'].join(""),document.body.appendChild(m);var l=document.getElementById("xxc-mini-iframe-"+t),s=l&&l.contentWindow,d=function(){m.classList.add("xxc-mini-minimize");var n=document.getElementById("xxc-mini-minz-btn-"+t);n.innerHTML=a("expandBtn",c.expandBtnHtml),n.setAttribute("title",a("expand",c.expandText))},r=function(){m.classList.remove("xxc-mini-minimize");var n=document.getElementById("xxc-mini-minz-btn-"+t);n.innerHTML=a("collapseBtn",c.collapseBtnHtml),n.setAttribute("title",a("collapse",c.collapseText)),s&&s.focus()},p=function(){m.classList.contains("xxc-mini-minimize")?r():d()},f=function(){m.classList.add("xxc-mini-hidden")},g=function(){m.classList.remove("xxc-mini-hidden")},u=function(){m.classList.toggle("xxc-mini-show-confirm"),m.classList.contains("xxc-mini-show-confirm")&&r()},b=function(){f(),setTimeout(function(){m.remove(),c.noStyle||document.getElementById("xxc-mini-style-"+t).remove()},400),B=null},h=function(){try{s&&s.exitApp&&(f(),m.classList.remove("xxc-mini-ready"),s.exitApp(b))}catch(n){b()}};return s&&(s.addEventListener("DOMContentLoaded",function(){c.injectCss&&w(c.injectCss,"xxc-mini-style-inject-"+t,s.document),c.onLoad&&c.onLoad()}),s.onXXCReadyCallback=function(){c.onReady&&c.onReady(),c.onNotice&&s.onNoticeUpdate(c.onNotice),c.onUserLogin&&s.onUserLogin(c.onUserLogin),s.onUserLogout(function(n,i,e,t){var o;c.onUserLogout&&(o=c.onUserLogout(n,e,t)),(c.exitOnKickoff&&"KICKOFF"===e||"exit"===o||"logout"===e&&c.closeOnLogout)&&b()})}),document.getElementById("xxc-mini-close-btn-"+t).addEventListener("click",function(){c.closeConfirm?u():h()}),document.getElementById("xxc-mini-close-cancel-btn-"+t).addEventListener("click",function(){u()}),document.getElementById("xxc-mini-close-confirm-btn-"+t).addEventListener("click",function(){u(),h()}),document.getElementById("xxc-mini-minz-btn-"+t).addEventListener("click",p),document.getElementById("xxc-mini-heading-"+t).addEventListener("click",p),setTimeout(function(){m.classList.add("xxc-mini-ready")},50),{element:m,id:B=t,options:c,exit:h,hide:f,show:g,toggleMinimize:p,minimize:d,maximize:r,contentWindow:s,open:function(){if(document.getElementById(t))g(),r();else{var n=i(c);m=n.element}},isMaximized:function(){return m&&!m.classList.contains("xxc-mini-minimize")},isShow:function(){return m&&!m.classList.contains("xxc-mini-hidden")},isExited:function(){return!document.getElementById(t)}}}}else console.log("XuanXuan options not avaliable")}}(window,void 0);