(function(d){var y=function(q,z){var b=d.extend({},d.fn.nivoSlider.defaults,z),a={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},g=d(q);g.data("nivo:vars",a).addClass("nivoSlider");var h=g.children();h.each(function(){var c=d(this),b="";c.is("img")||(c.is("a")&&(c.addClass("nivo-imageLink"),b=c),c=c.find("img:first"));var e=0===e?c.attr("width"):c.width(),v=0===v?c.attr("height"):c.height();""!==b&&b.css("display","none");c.css("display","none");a.totalSlides++});
var l=function(c){return c.data("src")||c.attr("src")},x=function(c){return d(h[c]).is("img")?d(h[c]):d(h[c]).find("img:first")};b.randomStart&&(b.startSlide=Math.floor(Math.random()*a.totalSlides));0<b.startSlide&&(b.startSlide>=a.totalSlides&&(b.startSlide=a.totalSlides-1),a.currentSlide=b.startSlide);d(h[a.currentSlide]).is("img")?a.currentImage=d(h[a.currentSlide]):a.currentImage=d(h[a.currentSlide]).find("img:first");d(h[a.currentSlide]).is("a")&&d(h[a.currentSlide]).css("display","block");var p=
d("<img/>").addClass("nivo-main-image");p.attr("src",l(a.currentImage)).show();g.append(p);d(window).resize(function(){g.children("img").width(g.width());p.attr("src",l(a.currentImage));p.stop().height("auto");d(".nivo-slice").remove();d(".nivo-box").remove()});g.append(d('<div class="nivo-caption"></div>'));var A=function(c){var b=d(".nivo-caption",g);if(""!=a.currentImage.attr("title")&&void 0!=a.currentImage.attr("title")){var e=a.currentImage.attr("title");"#"==e.substr(0,1)&&(e=d(e).html());
"block"==b.css("display")?setTimeout(function(){b.html(e)},c.animSpeed):(b.html(e),b.stop().fadeIn(c.animSpeed))}else b.stop().fadeOut(c.animSpeed)};A(b);var m=0;!b.manualAdvance&&1<h.length&&(m=setInterval(function(){var c=a.currentSlide==a.totalSlides-1?x(0):x(a.currentSlide+1);c.attr("src",l(c));s(g,h,b,!1)},b.pauseTime));b.directionNav&&(g.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+b.prevText+'</a><a class="nivo-nextNav">'+b.nextText+"</a></div>"),d(g).on("click","a.nivo-prevNav",
function(){if(a.running)return!1;clearInterval(m);m="";a.currentSlide-=2;s(g,h,b,"prev")}),d(g).on("click","a.nivo-nextNav",function(){if(a.running)return!1;clearInterval(m);m="";s(g,h,b,"next")}));if(b.controlNav){a.controlNavEl=d('<div class="nivo-controlNav"></div>');g.after(a.controlNavEl);for(var t=0;t<h.length;t++)if(b.controlNavThumbs){a.controlNavEl.addClass("nivo-thumbs-enabled");var w=h.eq(t);w.is("img")||(w=w.find("img:first"));w.attr("data-thumb")&&a.controlNavEl.append('<a class="nivo-control" rel="'+
t+'"><img src="'+w.attr("data-thumb")+'" alt="" /></a>')}else a.controlNavEl.append('<a class="nivo-control" rel="'+t+'">'+(t+1)+"</a>");d("a:eq("+a.currentSlide+")",a.controlNavEl).addClass("active");d("a",a.controlNavEl).bind("click",function(){if(a.running||d(this).hasClass("active"))return!1;clearInterval(m);m="";a.currentSlide=d(this).attr("rel")-1;s(g,h,b,"control")})}b.pauseOnHover&&g.hover(function(){a.paused=!0;clearInterval(m);m=""},function(){a.paused=!1;""!==m||b.manualAdvance||(m=setInterval(function(){s(g,
h,b,!1)},b.pauseTime))});g.bind("nivo:animFinished",function(){p.attr("src",l(a.currentImage));a.running=!1;d(h).each(function(){d(this).is("a")&&d(this).css("display","none")});d(h[a.currentSlide]).is("a")&&d(h[a.currentSlide]).css("display","block");""!==m||a.paused||b.manualAdvance||(m=setInterval(function(){s(g,h,b,!1)},b.pauseTime));b.afterChange.call(this)});var u=function(c,a,e){d(e.currentImage).parent().is("a")&&d(e.currentImage).parent().css("display","block");d('img[src="'+l(e.currentImage)+
'"]',c).not(".nivo-main-image,.nivo-control img").width(c.width()).css("visibility","hidden").show();for(var b=d('img[src="'+l(e.currentImage)+'"]',c).not(".nivo-main-image,.nivo-control img").parent().is("a")?d('img[src="'+l(e.currentImage)+'"]',c).not(".nivo-main-image,.nivo-control img").parent().height():d('img[src="'+l(e.currentImage)+'"]',c).not(".nivo-main-image,.nivo-control img").height(),f=0;f<a.slices;f++){var n=Math.round(c.width()/a.slices);f===a.slices-1?c.append(d('<div class="nivo-slice" name="'+
f+'"><img src="'+l(e.currentImage)+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block !important; top:0; left:-"+(n+f*n-n)+'px;" /></div>').css({left:n*f+"px",width:c.width()-n*f+"px",height:b+"px",opacity:"0",overflow:"hidden"})):c.append(d('<div class="nivo-slice" name="'+f+'"><img src="'+l(e.currentImage)+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block !important; top:0; left:-"+(n+f*n-n)+'px;" /></div>').css({left:n*f+"px",width:n+"px",
height:b+"px",opacity:"0",overflow:"hidden"}))}d(".nivo-slice",c).height(b);p.stop().animate({height:d(e.currentImage).height()},a.animSpeed)},B=function(c,a,e){d(e.currentImage).parent().is("a")&&d(e.currentImage).parent().css("display","block");d('img[src="'+l(e.currentImage)+'"]',c).not(".nivo-main-image,.nivo-control img").width(c.width()).css("visibility","hidden").show();for(var b=Math.round(c.width()/a.boxCols),f=Math.round(d('img[src="'+l(e.currentImage)+'"]',c).not(".nivo-main-image,.nivo-control img").height()/
a.boxRows),n=0;n<a.boxRows;n++)for(var r=0;r<a.boxCols;r++)r===a.boxCols-1?c.append(d('<div class="nivo-box" name="'+r+'" rel="'+n+'"><img src="'+l(e.currentImage)+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+f*n+"px; left:-"+b*r+'px;" /></div>').css({opacity:0,left:b*r+"px",top:f*n+"px",width:c.width()-b*r+"px"})):c.append(d('<div class="nivo-box" name="'+r+'" rel="'+n+'"><img src="'+l(e.currentImage)+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+
f*n+"px; left:-"+b*r+'px;" /></div>').css({opacity:0,left:b*r+"px",top:f*n+"px",width:b+"px"})),d('.nivo-box[name="'+r+'"]',c).height(d('.nivo-box[name="'+r+'"] img',c).height()+"px");p.stop().animate({height:d(e.currentImage).height()},a.animSpeed)},s=function(c,a,e,b){var f=c.data("nivo:vars");f&&f.currentSlide===f.totalSlides-1&&e.lastSlide.call(this);if((!f||f.stop)&&!b)return console.log("STOP!"),!1;e.beforeChange.call(this);b?("prev"===b&&p.attr("src",l(f.currentImage)),"next"===b&&p.attr("src",
l(f.currentImage))):p.attr("src",l(f.currentImage));f.currentSlide++;f.currentSlide===f.totalSlides&&(f.currentSlide=0,e.slideshowEnd.call(this));0>f.currentSlide&&(f.currentSlide=f.totalSlides-1);f.currentImage=x(f.currentSlide);f.currentImage.attr("src",l(f.currentImage));f.currentImage.on("load",function(){e.controlNav&&(d("a",f.controlNavEl).removeClass("active"),d("a:eq("+f.currentSlide+")",f.controlNavEl).addClass("active"));A(e);d(".nivo-slice",c).remove();d(".nivo-box",c).remove();var a=e.effect,
b="";"random"===e.effect&&(b="sliceDownRight sliceDownLeft sliceUpRight sliceUpLeft sliceUpDown sliceUpDownLeft fold fade boxRandom boxRain boxRainReverse boxRainGrow boxRainGrowReverse".split(" "),a=b[Math.floor(Math.random()*(b.length+1))],void 0===a&&(a="fade"));-1!==e.effect.indexOf(",")&&(b=e.effect.split(","),a=b[Math.floor(Math.random()*b.length)],void 0===a&&(a="fade"));f.currentImage.attr("data-transition")&&(a=f.currentImage.attr("data-transition"));f.running=!0;var k=0,g=0,h=b="",l="",
b="";if("sliceDown"===a||"sliceDownRight"===a||"sliceDownLeft"===a)u(c,e,f),g=k=0,b=d(".nivo-slice",c),"sliceDownLeft"===a&&(b=d(".nivo-slice",c)._reverse()),b.each(function(){var a=d(this);a.css({top:"0px"});g===e.slices-1?setTimeout(function(){a.animate({opacity:"1.0"},e.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+k):setTimeout(function(){a.animate({opacity:"1.0"},e.animSpeed)},100+k);k+=50;g++});else if("sliceUp"===a||"sliceUpRight"===a||"sliceUpLeft"===a)u(c,e,f),g=k=0,b=d(".nivo-slice",
c),"sliceUpLeft"===a&&(b=d(".nivo-slice",c)._reverse()),b.each(function(){var a=d(this);a.css({bottom:"0px"});g===e.slices-1?setTimeout(function(){a.animate({opacity:"1.0"},e.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+k):setTimeout(function(){a.animate({opacity:"1.0"},e.animSpeed)},100+k);k+=50;g++});else if("sliceUpDown"===a||"sliceUpDownRight"===a||"sliceUpDownLeft"===a){u(c,e,f);var m=g=k=0,b=d(".nivo-slice",c);"sliceUpDownLeft"===a&&(b=d(".nivo-slice",c)._reverse());b.each(function(){var a=
d(this);0===g?(a.css("top","0px"),g++):(a.css("bottom","0px"),g=0);m===e.slices-1?setTimeout(function(){a.animate({opacity:"1.0"},e.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+k):setTimeout(function(){a.animate({opacity:"1.0"},e.animSpeed)},100+k);k+=50;m++})}else if("fold"===a)u(c,e,f),g=k=0,d(".nivo-slice",c).each(function(){var a=d(this),b=a.width();a.css({top:"0px",width:"0px"});g===e.slices-1?setTimeout(function(){a.animate({width:b,opacity:"1.0"},e.animSpeed,"",function(){c.trigger("nivo:animFinished")})},
100+k):setTimeout(function(){a.animate({width:b,opacity:"1.0"},e.animSpeed)},100+k);k+=50;g++});else if("fade"===a)u(c,e,f),h=d(".nivo-slice:first",c),h.css({width:c.width()+"px"}),h.animate({opacity:"1.0"},2*e.animSpeed,"",function(){c.trigger("nivo:animFinished")});else if("slideInRight"===a)u(c,e,f),h=d(".nivo-slice:first",c),h.css({width:"0px",opacity:"1"}),h.animate({width:c.width()+"px"},2*e.animSpeed,"",function(){c.trigger("nivo:animFinished")});else if("slideInLeft"===a)u(c,e,f),h=d(".nivo-slice:first",
c),h.css({width:"0px",opacity:"1",left:"",right:"0px"}),h.animate({width:c.width()+"px"},2*e.animSpeed,"",function(){h.css({left:"0px",right:""});c.trigger("nivo:animFinished")});else if("boxRandom"===a)B(c,e,f),l=e.boxCols*e.boxRows,k=g=0,b=y(d(".nivo-box",c)),b.each(function(){var a=d(this);g===l-1?setTimeout(function(){a.animate({opacity:"1"},e.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+k):setTimeout(function(){a.animate({opacity:"1"},e.animSpeed)},100+k);k+=20;g++});else if("boxRain"===
a||"boxRainReverse"===a||"boxRainGrow"===a||"boxRainGrowReverse"===a){B(c,e,f);var l=e.boxCols*e.boxRows,p=k=g=0,q=0,v=[];v[p]=[];b=d(".nivo-box",c);if("boxRainReverse"===a||"boxRainGrowReverse"===a)b=d(".nivo-box",c)._reverse();b.each(function(){v[p][q]=d(this);q++;q===e.boxCols&&(p++,q=0,v[p]=[])});for(b=0;b<2*e.boxCols;b++){for(var s=b,t=0;t<e.boxRows;t++)0<=s&&s<e.boxCols&&(function(b,f,g,h,k){var l=d(v[b][f]),m=l.width(),p=l.height();"boxRainGrow"!==a&&"boxRainGrowReverse"!==a||l.width(0).height(0);
h===k-1?setTimeout(function(){l.animate({opacity:"1",width:m,height:p},e.animSpeed/1.3,"",function(){c.trigger("nivo:animFinished")})},100+g):setTimeout(function(){l.animate({opacity:"1",width:m,height:p},e.animSpeed/1.3)},100+g)}(t,s,k,g,l),g++),s--;k+=100}}}).each(function(){this.complete&&d(this).load()})},y=function(a){for(var b,d,g=a.length;g;b=parseInt(Math.random()*g,10),d=a[--g],a[g]=a[b],a[b]=d);return a},C=function(a){this.console&&"undefined"!==typeof console.log&&console.log(a)};this.stop=
function(){d(q).data("nivo:vars").stop||(d(q).data("nivo:vars").stop=!0,C("Stop Slider"))};this.start=function(){d(q).data("nivo:vars").stop&&(d(q).data("nivo:vars").stop=!1,C("Start Slider"))};b.afterLoad.call(this);return this};d.fn.nivoSlider=function(q){return this.each(function(z,b){var a=d(this);if(a.data("nivoslider"))return a.data("nivoslider");var g=new y(this,q);a.data("nivoslider",g)})};d.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3E3,
startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};d.fn._reverse=[].reverse})(jQuery);
